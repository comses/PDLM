Model {
    ConfluentType = FIT

    // States
    InitialState { Name = "start" }

    State { 
        Name = "active"
    }

    State { 
        Name = "passive"
    }

    // Transitions
    Transition {  
        Action = "job_count=0,time_advance=3"
        Description = "Initializing the model"
        Source = "start"  
        Target = "active" 
        TimeAdvanceType = Value
        TimeAdvanceValue = 3.0
    }

    InternalTransition {
        Action = "job_count=job_count+1,time_advance=3"
        Description = "Increment job_count, generate job, and schedule next"
        Guard = "" 
        Source = "active"  
        Target = "active"  
        TimeAdvanceType = Value  
        TimeAdvanceValue = 3.0
    }

    ExternalTransition {
        Action = "state=passive,time_advance=Infinity"
        Description = "Stop signal received, transitioning to passive"
        Guard = ""
        InputPort = "stop"
        Message = ""
        Source = "active"  
        Target = "passive"  
        TimeAdvanceType = Infinity  
        TimeAdvanceValue = 0.0
    }

    OutputFunction { 
        Action = ""
        Description = "Send generated job signal when a job is generated"
        Guard = "" 
        Message = "joba{job_count+1}" 
        OutputPort = "out" 
    }
}